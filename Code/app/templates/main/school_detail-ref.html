<!DOCTYPE html>

<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" xmlns:Followers="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/html"> <!--<![endif]-->
{% import "bootstrap/wtf.html" as wtf %}
{% import "_macro.html" as macros %}
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <!-- Main Style Sheet -->
    <link rel="stylesheet" href="../../static/css/bootstrap3/bootstrap.css">
    <link rel="stylesheet" href="../../static/css/like.css">
    <link rel="stylesheet" href="../../static/css/star-rating/star-rating.css">

    <!-- Modernizr -->
    <script src="../../static/js/vendor/modernizr-2.6.2.min.js"></script>
    {#<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>#}
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="../../static/js/pagination/jquery.twbsPagination.js"></script>
    <script src="../../static/js/star-rating/star-rating.js"></script>

    <!-- Respond.js for IE 8 or less only -->
    <!--[if (lt IE 9) & (!IEMobile)]>
  <script src="js/vendor/respond.min.js"></script>
  <![endif]-->
    <link href="http://s3.amazonaws.com/codecademy-content/courses/ltp/css/shift.css" rel="stylesheet">
    <link rel="stylesheet" href="../../static/css/details.css">

    {#    <link rel="stylesheet" href="Airbnb.css">#}
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.1.0/echarts.common.min.js"></script>

    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAGOu1MCWVAvOQ24l6-tOdRpXgKXEDWvYs&language=en">
    </script>
    <style>
        .jumbotron {
{#        {% if school.photo_ref1 %}#}
            background-image: url('../../static/img/school_img1/{{ school.official_school_name }}.jpeg');
{#        {% else %}#}
{#            background-image: url('https://dubsism.files.wordpress.com/2017/12/image-not-found.png');#}
{#        {% endif %}#}

            height: 400px;
            margin: 0;
            background-repeat: no-repeat;
            background-size: cover;
        }

        /*.imgGb{
          background-image:url('https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=CmRaAAAApvZQJbiffqnPNES7KXGrTq4y683Qz3qTDTHnvyHv7dXiXvyeP5iX_Zmot2vX3RZnA5h9gnRnF43NQXlLc97S9VbIAU5ppsW9_ElvpmUkSRuo7Hn5Rt3XAPGK_XR3LJ1mEhB0FupsNnRHO-4pMUCecGhhGhSVRKrgaGDC-VyPs0XB1rxKeM1ROw&key=AIzaSyDL_YVLa4qg-Pi4Q_W_10e1Kiih_b8Hmv0');
          background-repeat: no-repeat;
          background-size: cover;
        }
        .blueBg{
          background: blue;
        }*/
        /*.jumbotron .banner{
          height: 100%;display: block;
        }*/

        .jumbotron .container {
            position: relative;
            top: 100px;
        }

        .jumbotron .compare-btn{
            position: absolute;
            right: 5px;
            top: 5px;
            font-size: 12px;

        }

        .jumbotron .follow-btn{
            position: absolute;
            right: 95px;
            top: 5px;
            font-size: 12px;
        }

        .jumbotron #view{
            font-size: 20px;
            font-weight: bold;
        }
        .jumbotron h1 {
            color: #fff;
            font-size: 48px;
            font-family: 'Shift', sans-serif;
            font-weight: bold;
        }

        .jumbotron p {
            font-size: 20px;
            color: #fff;
        }



        .navbar {
            margin-bottom: 0
        }

        .page-contents {
            margin: 0 3%;
        }

        /* jssor slider arrow navigator skin 05 css */
        /*
        .jssora05l                  (normal)
        .jssora05r                  (normal)
        .jssora05l:hover            (normal mouseover)
        .jssora05r:hover            (normal mouseover)
        .jssora05l.jssora05ldn      (mousedown)
        .jssora05r.jssora05rdn      (mousedown)
        */
        .jssora05l, .jssora05r {
            display: block;
            position: absolute;
            /* size of arrow element */
            width: 40px;
            height: 40px;
            cursor: pointer;
            background: url('../../static/img/detail/a17.png') no-repeat;
            overflow: hidden;
        }

        .jssora05l {
            background-position: -10px -40px;
        }

        .jssora05r {
            background-position: -70px -40px;
        }

        .jssora05l:hover {
            background-position: -130px -40px;
        }

        .jssora05r:hover {
            background-position: -190px -40px;
        }

        .jssora05l.jssora05ldn {
            background-position: -250px -40px;
        }

        .jssora05r.jssora05rdn {
            background-position: -310px -40px;
        }

        /* jssor slider thumbnail navigator skin 01 css */
        /*
        .jssort01 .p            (normal)
        .jssort01 .p:hover      (normal mouseover)
        .jssort01 .p.pav        (active)
        .jssort01 .p.pdn        (mousedown)
        */
        .jssort01 .p {
            position: absolute;
            top: 0;
            left: 0;
            width: 72px;
            height: 72px;
        }

        .jssort01 .t {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .jssort01 .w {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 100%;
            height: 100%;
        }

        .jssort01 .c {
            position: absolute;
            top: 0px;
            left: 0px;
            width: 68px;
            height: 68px;
            border: #000 2px solid;
            box-sizing: content-box;
            background: url('../../static/img/detail/t01.png') -800px -800px no-repeat;
            _background: none;
        }

        .jssort01 .pav .c {
            top: 2px;
            _top: 0px;
            left: 2px;
            _left: 0px;
            width: 68px;
            height: 68px;
            border: #000 0px solid;
            _border: #fff 2px solid;
            background-position: 50% 50%;
        }

        .jssort01 .p:hover .c {
            top: 0px;
            left: 0px;
            width: 70px;
            height: 70px;
            border: #fff 1px solid;
            background-position: 50% 50%;
        }

        .jssort01 .p.pdn .c {
            background-position: 50% 50%;
            width: 68px;
            height: 68px;
            border: #000 2px solid;
        }

        * html .jssort01 .c, * html .jssort01 .pdn .c, * html .jssort01 .pav .c {
            /* ie quirks mode adjust */
            width /**/: 72px;
            height /**/: 72px;
        }

        .slider_contain {
            position: absolute;
            top: 0;
            right: 0;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
            background: #000;
            opacity: 0.92;
            display: none;
            z-index: 99999;
            padding-top: 10%;
        }

        .slider_close {
            position: absolute;
            right: 25px;
            top: 25px;
            color: #fff;
            font-size: 15px;
            display: inline-block;
            width: 25px;
            height: 25px;
            cursor: pointer;
            z-index: 999;
        }

        .rank {
            color: #FF0000;
            font-weight: bold;
        }

    </style>

    <script>


    </script>


</head>
<body>

<!--[if lte IE 7]>
<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
<![endif]-->

<header role="banner">
    <nav role="navigation" class="navbar navbar-static-top navbar-default" style="margin-bottom:0px">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="{{ url_for('main.index') }}"><img src="../../static/img/logo.png"
                                                                                alt="BestChoice'" width="120"></a>
            </div>

            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav pull-left">
                    <li ><a href='{{ url_for('main.index') }}'>
                        <span class="icon fa fa-home"></span> Home
                    </a></li>
                    <li><a href='{{ url_for('operation.compare') }}'>
                        <span class="icon fa fa-search"></span> Search
                    </a></li>
                    <li><a href='{{ url_for('main.rank') }}'>
                        <span class="icon fa fa-desktop"></span> Rank
                    </a></li>
                    <li><a href='{{ url_for('operation.compare') }}'>
                        <span class="icon fa fa-group"></span> Compare
                    </a></li>
                </ul>
                <ul class="nav navbar-nav pull-right">
                        <li class="dropdown">
                        {% if current_user.is_authenticated %}
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                {% if current_user.photo %}
                                    <img src="{{ current_user.photo }}" height="23" width="23">
                                {% else %}
                                    <img class="img-rounded profile-thumbnail"
                                         src="../../static/avatars/default_avatar.jpg" height="23"
                                         width="23">
                                {% endif %}
                                {{ current_user.username }} <b class="caret"></b>
                            </a>

                            <ul class="dropdown-menu">
                                {% if current_user.login_type != 'website' %}
                                    <li><a href="{{ url_for('operation.user', username=current_user.username) }}">Profile</a></li>
{#                                    <li><a href="{{ url_for('operation.following', username=current_user.username)}}">Watching List</a></li>#}
                                    <li><a href="{{ url_for('auth.logout') }}">Log out</a></li>
                                {% else %}
                                    <li><a href="{{ url_for('operation.user', username=current_user.username) }}">Profile</a></li>
{#                                    <li><a href="{{ url_for('operation.following', username=current_user.username)}}">Watching List</a></li>#}
                                    <li><a href="{{ url_for('operation.change_password') }}">Change password</a></li>
                                    <li><a href="{{ url_for('auth.logout') }}">Log out</a></li>
                                {% endif %}
                            </ul>

                        </li>
                    {% else %}
                        <li><a href="{{ url_for('auth.login') }}">Log In</a></li>
                    {% endif %}

                </ul>
            </div><!--/.nav-collapse -->
        </div><!--/.container -->
    </nav>
</header>

<main role="main" id='#app' style="padding-top: 0px;"> <!--
  <div id="homepage-feature" class="carousel slide">
    <ol class="carousel-indicators">
      <li data-target="#homepage-feature" data-slide-to="0" class="active"></li>
      <li data-target="#homepage-feature" data-slide-to="1"></li>
      <li data-target="#homepage-feature" data-slide-to="2"></li>
      <li data-target="#homepage-feature" data-slide-to="3"></li>
    </ol> -->

<!-- Wrapper for slides --><!--
    <div class="carousel-inner">
      <div class="item active">
        <img width="1600" height="500" src="http://bartlesvillecf.org/files/2016/04/Woolaroc_Museum_ext2_0340.jpg" class="attachment-full size-full wp-post-image" alt="" srcset="http://bartlesvillecf.org/files/2016/04/Woolaroc_Museum_ext2_0340.jpg 1600w, http://bartlesvillecf.org/files/2016/04/Woolaroc_Museum_ext2_0340-300x94.jpg 300w, http://bartlesvillecf.org/files/2016/04/Woolaroc_Museum_ext2_0340-768x240.jpg 768w, http://bartlesvillecf.org/files/2016/04/Woolaroc_Museum_ext2_0340-1024x320.jpg 1024w" sizes="(max-width: 1600px) 100vw, 1600px">
      </div>
      <div class="item">
        <img width="1600" height="500" src="http://bartlesvillecf.org/files/2016/04/WallOfHonor_0011-copy.jpg" class="attachment-full size-full wp-post-image" alt="" srcset="http://bartlesvillecf.org/files/2016/04/WallOfHonor_0011-copy.jpg 1600w, http://bartlesvillecf.org/files/2016/04/WallOfHonor_0011-copy-300x94.jpg 300w, http://bartlesvillecf.org/files/2016/04/WallOfHonor_0011-copy-768x240.jpg 768w, http://bartlesvillecf.org/files/2016/04/WallOfHonor_0011-copy-1024x320.jpg 1024w" sizes="(max-width: 1600px) 100vw, 1600px">
      </div>
      <div class="item">
        <img width="1600" height="500" src="http://bartlesvillecf.org/files/2016/04/Sunfest_017.jpg" class="attachment-full size-full wp-post-image" alt="" srcset="http://bartlesvillecf.org/files/2016/04/Sunfest_017.jpg 1600w, http://bartlesvillecf.org/files/2016/04/Sunfest_017-300x94.jpg 300w, http://bartlesvillecf.org/files/2016/04/Sunfest_017-768x240.jpg 768w, http://bartlesvillecf.org/files/2016/04/Sunfest_017-1024x320.jpg 1024w" sizes="(max-width: 1600px) 100vw, 1600px">
      </div>
      <div class="item">
        <img width="1600" height="500" src="https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=CmRaAAAApvZQJbiffqnPNES7KXGrTq4y683Qz3qTDTHnvyHv7dXiXvyeP5iX_Zmot2vX3RZnA5h9gnRnF43NQXlLc97S9VbIAU5ppsW9_ElvpmUkSRuo7Hn5Rt3XAPGK_XR3LJ1mEhB0FupsNnRHO-4pMUCecGhhGhSVRKrgaGDC-VyPs0XB1rxKeM1ROw&key=AIzaSyDL_YVLa4qg-Pi4Q_W_10e1Kiih_b8Hmv0" class="attachment-full size-full wp-post-image" alt="" srcset="https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=CmRaAAAApvZQJbiffqnPNES7KXGrTq4y683Qz3qTDTHnvyHv7dXiXvyeP5iX_Zmot2vX3RZnA5h9gnRnF43NQXlLc97S9VbIAU5ppsW9_ElvpmUkSRuo7Hn5Rt3XAPGK_XR3LJ1mEhB0FupsNnRHO-4pMUCecGhhGhSVRKrgaGDC-VyPs0XB1rxKeM1ROw&key=AIzaSyDL_YVLa4qg-Pi4Q_W_10e1Kiih_b8Hmv0 1600w, https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=CmRaAAAApvZQJbiffqnPNES7KXGrTq4y683Qz3qTDTHnvyHv7dXiXvyeP5iX_Zmot2vX3RZnA5h9gnRnF43NQXlLc97S9VbIAU5ppsW9_ElvpmUkSRuo7Hn5Rt3XAPGK_XR3LJ1mEhB0FupsNnRHO-4pMUCecGhhGhSVRKrgaGDC-VyPs0XB1rxKeM1ROw&key=AIzaSyDL_YVLa4qg-Pi4Q_W_10e1Kiih_b8Hmv0 300w, https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=CmRaAAAApvZQJbiffqnPNES7KXGrTq4y683Qz3qTDTHnvyHv7dXiXvyeP5iX_Zmot2vX3RZnA5h9gnRnF43NQXlLc97S9VbIAU5ppsW9_ElvpmUkSRuo7Hn5Rt3XAPGK_XR3LJ1mEhB0FupsNnRHO-4pMUCecGhhGhSVRKrgaGDC-VyPs0XB1rxKeM1ROw&key=AIzaSyDL_YVLa4qg-Pi4Q_W_10e1Kiih_b8Hmv0 768w, https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=CmRaAAAApvZQJbiffqnPNES7KXGrTq4y683Qz3qTDTHnvyHv7dXiXvyeP5iX_Zmot2vX3RZnA5h9gnRnF43NQXlLc97S9VbIAU5ppsW9_ElvpmUkSRuo7Hn5Rt3XAPGK_XR3LJ1mEhB0FupsNnRHO-4pMUCecGhhGhSVRKrgaGDC-VyPs0XB1rxKeM1ROw&key=AIzaSyDL_YVLa4qg-Pi4Q_W_10e1Kiih_b8Hmv0 1024w" sizes="(max-width: 1600px) 100vw, 1600px">
      </div>
    </div><!-- /.carousel-inner -->

<!-- Controls --> <!--
    <a class="left carousel-control" href="#homepage-feature" data-slide="prev">
      <span class="icon fa fa-chevron-left"></span>
    </a>
    <a class="right carousel-control" href="#homepage-feature" data-slide="next">
      <span class="icon fa fa-chevron-right"></span>
    </a>
  </div><!-- /#homepage-feature.carousel -->


<div class="jumbotron" style="position: relative;">
    <!-- button block start-->
    <button class="compare-btn btn btn-primary" onclick="showModal();">
        Compare
    </button>
    {% if current_user.is_anonymous %}
        <a href="{{ url_for('auth.login') }}" class="follow-btn btn btn-primary">Follow</a>
    {% else %}
        {% if not current_user.is_following(school) %}
            <button id="follow" onclick='ajax_follow("{{ school.official_school_name }}")'
                    class="follow-btn btn btn-primary">Follow
            </button>
        {% else %}
            <button id="follow" onclick='ajax_unfollow("{{ school.official_school_name }}")'
                    class="follow-btn btn btn-primary">Unfollow
            </button>
        {% endif %}
    {% endif %}
    <!-- button block end-->

    <!-- content-->
    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h1>{{ school.official_school_name }}</h1>
                {% if school.photo_ref2 %}
                    <a href='#' id='view'>View more</a>
                {% endif %} <br>

                <!-- （Modal） -->
                <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                    &times;
                                </button>
                                <h4 class="modal-title" id="myModalLabel">
                                    Schools for Comparison
                                </h4>
                            </div><!--modal-header -->


                            <div class="modal-body">
                                <div id="no-record" style="display: none;"
                                     class="alert alert-info alert-dismissable">
                                    <button type="button" class="close" data-dismiss="alert"
                                            aria-hidden="true">
                                        &times;
                                    </button>
                                    No record added yet for comparisons.
                                </div>

                                <ul id="compare-list" class="list-group">
                                    {% for school in school_names %}
                                        <li id="{{ school }}" class="list-group-item">
                                            <div class="row">
                                                <div class="col-sm-8">
                                                    {{ school }}
                                                </div>
                                                <div class="col-sm-4">
                                                    <button type="button" onclick="remove(this)"
                                                            class="btn btn-default">
                                                        Remove
                                                    </button>
                                                </div>
                                            </div>
                                        </li>
                                    {% endfor %}

                                </ul>

                                <div id="warning" style="display: none;"
                                     class="alert alert-warning alert-dismissable">
                                    <button type="button" class="close" data-dismiss="alert"
                                            aria-hidden="true">
                                        &times;
                                    </button>
                                    Warning: You can only add no more than 4 schools in your comparison list!
                                </div>

                            </div><!--modal-body -->


                            <div class="modal-footer">
                                <button type="button" onclick="clearAll()" class="btn btn-default">
                                    Clear All
                                </button>
                                <button type="button" class="btn btn-primary"
                                        onclick="window.open('{{ url_for('operation.compare') }}')">
                                    Compare
                                </button>
                            </div><!-- /.modal-footer -->

                        </div><!-- /.modal-content -->
                    </div><!-- /.modal-dialog -->
                </div><!-- myModal-->
                <!-- Compare module End ------------------------------------------------------------------------->
            </div><!-- col-sm 6 School name-->
        </div><!-- col row-->
    </div>

</div><!-- jumbotron area end-->


<div class="page-contents">
    <div class="row">
        <div class="col-sm-4">
            <h3>{{ school.official_school_name }}</h3>
            <p>
                {% if current_user.is_anonymous %}
                    <p><b><font color="navy">View: <span class="badge">{{ school.add }}</span></font></b></p>
                {% else %}
                    <b><font color="navy">Followers: </font></b>
                    <span id="followers" class="badge">{{ school.followers.count() }}</span>
                    <b><font color="navy">&nbsp;&nbsp;&nbsp;View: <span class="badge">{{ school.add }}</span></font></b>
                {% endif %}
            </p>
            <p>{{ school.address }}</p>

            <span class='rank'><p>Rank: {{ rank.rank }}</p></span>
            <p>School gender: {{ school.school_gender }}</p>
            <p>Religion: {{ school.religion }}</p>
            <p>Irish classification: {{ school.irish_classification }}</p>
            <p>Fee: {{ school.fee }}</p>
            <p>Website: <a target="_blank" href="http://www.{{ school.website }}">www.{{ school.website }}/</a></p>
            <p  style="display: inline-block">Award in 2018</p>
            <button style="display: inline-block" data-toggle="modal" data-target="#awardModal">Details</button>

            <!-- (Award Modal) -->
            <div class="modal fade" id="awardModal" tabindex="-1" role="dialog" aria-labelledby="awardModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                &times;
                            </button>
                            <h4 class="modal-title" id="myModalLabel">
                                Award in 2018
                            </h4>
                        </div><!--modal-header -->

                        <div class="modal-body">
                            <div class="row">
                                <div class="col-md-1"></div>
                                <div class="table-responsive">
                                    <table class="table table-striped table-striped table-bordered table-hover award" id="awardTablel" summary="Employee Pay Sheet">
                                      <thead>
                                          <tr>
                                            <th scope="col">Award Title</th>
                                            <th scope="col">Project Title</th>
                                            <th scope="col">Project Category</th>
                                            <th scope="col">Student(s)</th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                          {% if school.AwardTitle1 %}
                                              <tr>
                                                <td>{{ school.AwardTitle1 }}</td>
                                                <td>{{ school.ProjectTitle1 }}</td>
                                                <td>{{ school.ProjectCategory1 }}</td>
                                                <td>{{ school.Student1 }}</td>
                                              </tr>
                                          {% else %}
                                              <td colspan="4" style="text-align: center"> No Award Data </td>
                                          {% endif %}

                                          {% if school.AwardTitle2 %}
                                              <tr>
                                                <td>{{ school.AwardTitle2 }}</td>
                                                <td>{{ school.ProjectTitle2 }}</td>
                                                <td>{{ school.ProjectCategory2 }}</td>
                                                <td>{{ school.Student2 }}</td>
                                              </tr>
                                          {% endif %}
                                          {% if school.AwardTitle3 %}
                                              <tr>
                                                <td>{{ school.AwardTitle3 }}</td>
                                                <td>{{ school.ProjectTitle3 }}</td>
                                                <td>{{ school.ProjectCategory3 }}</td>
                                                <td>{{ school.Student3 }}</td>
                                              </tr>
                                          {% endif %}
                                          {% if school.AwardTitle4 %}
                                              <tr>
                                                <td>{{ school.AwardTitle4 }}</td>
                                                <td>{{ school.ProjectTitle4 }}</td>
                                                <td>{{ school.ProjectCategory4 }}</td>
                                                <td>{{ school.Student4 }}</td>
                                              </tr>
                                          {% endif %}
                                          {% if school.AwardTitle5 %}
                                              <tr>
                                                <td>{{ school.AwardTitle5 }}</td>
                                                <td>{{ school.ProjectTitle5 }}</td>
                                                <td>{{ school.ProjectCategory5 }}</td>
                                                <td>{{ school.Student5 }}</td>
                                              </tr>
                                          {% endif %}
                                          {% if school.AwardTitle6 %}
                                              <tr>
                                                <td>{{ school.AwardTitle6 }}</td>
                                                <td>{{ school.ProjectTitle6 }}</td>
                                                <td>{{ school.ProjectCategory6 }}</td>
                                                <td>{{ school.Student6 }}</td>
                                              </tr>
                                          {% endif %}
                                          {% if school.AwardTitle7 %}
                                              <tr>
                                                <td>{{ school.AwardTitle7 }}</td>
                                                <td>{{ school.ProjectTitle7 }}</td>
                                                <td>{{ school.ProjectCategory7 }}</td>
                                                <td>{{ school.Student7 }}</td>
                                              </tr>
                                          {% endif %}
                                          {% if school.AwardTitle8 %}
                                              <tr>
                                                <td>{{ school.AwardTitle8 }}</td>
                                                <td>{{ school.ProjectTitle8 }}</td>
                                                <td>{{ school.ProjectCategory8 }}</td>
                                                <td>{{ school.Student8 }}</td>
                                              </tr>
                                          {% endif %}
                                          {% if school.AwardTitle9 %}
                                              <tr>
                                                <td>{{ school.AwardTitle9 }}</td>
                                                <td>{{ school.ProjectTitle9 }}</td>
                                                <td>{{ school.ProjectCategory9 }}</td>
                                                <td>{{ school.Student9 }}</td>
                                              </tr>
                                          {% endif %}
                                          {% if school.AwardTitle10 %}
                                              <tr>
                                                <td>{{ school.AwardTitle10 }}</td>
                                                <td>{{ school.ProjectTitle10 }}</td>
                                                <td>{{ school.ProjectCategory10 }}</td>
                                                <td>{{ school.Student10 }}</td>
                                              </tr>
                                          {% endif %}
                                          {% if school.AwardTitle11 %}
                                              <tr>
                                                <td>{{ school.AwardTitle11 }}</td>
                                                <td>{{ school.ProjectTitle11 }}</td>
                                                <td>{{ school.ProjectCategory11 }}</td>
                                                <td>{{ school.Student11 }}</td>
                                              </tr>
                                          {% endif %}
                                      </tbody>
                                    </table>
                                </div>
                            </div>
                        </div><!--modal-body -->

                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">
                                Close
				            </button>
                        </div><!-- /.modal-footer -->
                    </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
            </div><!-- myModal-->
            <!-- Compare module End ------------------------------------------------------------------------->

        </div>

        <div class="col-sm-8">
            <div id="allmap" style="width: 100%;height: 300px; margin-top: 20px"></div>
            <script type="text/javascript">
                // Map
                $(function () {
                    initMap();
                });

            </script>
        </div>

    </div>

    <div class="row" style="margin-top: 30px;">
        <div class="col-sm-6">
            <div id="tu1" style="width: 100%;height:400px;"></div>
        </div>
        <div class="col-sm-6">
            <div id="tu2" style="width: 100%;height:400px;"></div>
            <div class="col-sm-5">
                <select class="form-control" id='selyear'>
                    <option value='2015'>2015</option>
                    <option value='2016'>2016</option>
                    <option value='2017'>2017</option>
                </select>
            </div>

            <div class="col-sm-5">
                <select class="form-control" id='seltype'>
                    <option value='0'>All institution</option>
                    <option value='1'>University only</option>
                </select>
            </div>
        </div>
    </div><!-- /.row -->
</div><!-- /.container -->


<div style="margin-left: 15px;">
    <h3>{{ count }} Reviews</h3>

    <div class="row" >
        <div class="col-md-9">
            <ul id="comment-list" class="media-list">
             {#{% for comment in comments %}
                <li class="media">
                    <div class="media-left">
                        <a href="#">
                            <img class="media-object img-circle" style="height: 70px; width: 70px" src="{{ comment.author_avatar }}" alt="photo">
                        </a>
                    </div>

                    <div class="media-body">
                        <h4 class="media-heading inline">{{ comment.author_name }}</h4>

                        <div class="caption inline" ><span class="label label-success">{{ comment.user_rating }} Stars</span></div>
                        <input value="{{ comment.user_rating }}" type="number" class="rating-loading star-show" min=0 max=5 step=0.1 data-size="xs">

                        <p class="inline">{{ comment.user_review }}</p>
                        <a userid= "userIdxxx" class="inline" href="javascript:void(0)" onclick="removeByUserId(this)">
                            <div class="caption inline" ><span class="label label-danger">Remove</span></div>
                        </a>

                        <p>
                            <div class="ds-comment-footer">
                                <span class="ds-time" datetime="{{ comment.time }}" title="{{ comment.time }}">{{ comment.time }}</span>&nbsp;
                            </div>
                        </p>
                    </div>
                </li>
                <hr/>
                {% endfor %}

                <li class="media">
                    <div class="media-left">
                        <a href="#">
                            <img class="media-object img-circle" src="../../static/img/review/b.png" alt="photo">
                        </a>
                    </div>

                    <div class="media-body">
                        <h4 class="media-heading inline">Li Juncheng</h4>

                        <div class="caption inline" ><span class="label label-success">3.2 Stars</span></div>
                        <input value="3.2" type="number" class="rating-loading star-show" min=0 max=5 step=0.1 data-size="xs">

                        <p class="inline">How about this comment plugin, which can be used as a comment on my blog, berman?I'll give it to group manager. Let him give me the source code</p>
                        <a userid= "userId" class="inline" href="javascript:void(0)" onclick="removeByUserId(this)">
                            <div class="caption inline" ><span class="label label-danger">Remove</span></div>
                        </a>

                        <p>
                            <div class="ds-comment-footer">
                                <span class="ds-time" datetime="2016-01-28T20:13:29+08:00" title="21 July 2018 8:13:29">2018-04-24 18:42:59</span>&nbsp;
                            </div>
                        </p>
                    </div>
                </li>
#}
                <script>
                    $(".star-show").rating({displayOnly: true});

                    {#$(document).on('ready', function(){

                    });#}
                </script>


                {#<li class="media"> <!-- the first floor entry-->
                    <div class="media-left">
                        <a href="#">
                            <img class="media-object img-circle" src="../../static/img/review/a.png" alt="photo">
                        </a>
                    </div>
                    <div class="media-body">
                        <h4 class="media-heading">LiJuncheng</h4>

                        <p>Love it, this plugin works really well...Let me see if his comments section looks good!</p>

                        <div class="ds-comment-footer">
                            <span class="ds-time" datetime="2016-01-28T20:13:29+08:00" title="21 July 2018 8:13:29">21 July 2018</span>&nbsp;
                            <a> <span class="glyphicon glyphicon-comment" aria-hidden="true"></span> reply </a>
                        </div>
                        <hr/>

                        <ul class="media-list"> <!-- the second floor -->
                            <li class="media"> <!-- the second floor entry-->
                                <div class="media-left">
                                    <a href="#">
                                        <img class="media-object img-circle" src="../../static/img/review/b.png" alt="photo">
                                    </a>
                                </div>
                                <div class="media-body">
                                    <h4 class="media-heading">Chen Pengyu 2rd</h4>

                                    <p>How about this comment plugin, which can be used as a comment on my blog, berman?I'll give it to group manager. Let him give me the source code.</p>

                                    <div class="ds-comment-footer">
                                        <span class="ds-time" datetime="2016-01-28T20:13:29+08:00"
                                              title="21 July 2018 8:13:29">21 July 2018</span>&nbsp;
                                        <a>
                                            <span class="glyphicon glyphicon-comment" aria-hidden="true"></span> reply
                                        </a>
                                    </div>
                                    <hr/><!-- second floor line-->

                                    <!-- 第三层 要放在 media-body 里-->
                                    <ul class="media-list">
                                        <li class="media">
                                            <div class="media-left">
                                                <a href="#">
                                                    <img class="media-object img-circle" src="../../static/img/review/c.png" alt="photo">
                                                </a>
                                            </div>
                                            <div class="media-body">
                                                <h4 class="media-heading">Hongyuan 3rd</h4>

                                                <p>How about this comment plugin, which can be used as a comment on my blog, berman?I'll give it to group manager. Let him give me the source code.</p>

                                                <div class="ds-comment-footer">
                                                    <span class="ds-time" datetime="2016-01-28T20:13:29+08:00"
                                                          title="21 July 2018 8:13:29">21 July 2018</span>&nbsp;
                                                    <a>
                                                        <span class="glyphicon glyphicon-comment" aria-hidden="true"></span> reply
                                                    </a>
                                                </div>
                                            </div>
                                        </li>
                                    </ul><!-- the third floor  end-->

                                </div>

                            </li> <!-- the second floor entry-->
                            <hr/>



                            <li class="media"> <!-- the second floor entry-->
                                <div class="media-left">
                                    <a href="#">
                                        <img class="media-object img-circle" src="../../static/img/review/b.png" alt="photo">
                                    </a>
                                </div>
                                <div class="media-body">
                                    <h4 class="media-heading">Chen Pengyu 2rd</h4>

                                    <p>How about this comment plugin, which can be used as a comment on my blog, berman?I'll give it to group manager. Let him give me the source code.</p>

                                    <div class="ds-comment-footer">
                                        <span class="ds-time" datetime="2016-01-28T20:13:29+08:00"
                                              title="21 July 2018 8:13:29">21 July 2018</span>&nbsp;
                                        <a>
                                            <span class="glyphicon glyphicon-comment" aria-hidden="true"></span> reply
                                        </a>
                                    </div>
                                </div>
                            </li> <!-- the second floor entry-->
                        </ul><!-- the second floor  end -->

                    </div>
                </li> <!-- the first floor entry-->#}

            </ul>

            <div class="row">

                <div class="col-md-3"></div>

                <div id="pagination-row" class="row pagination-wrap col-md-6">
                    <nav style="margin-left:20px" aria-label="Page navigation">
                        <ul class="pagination" id="pagination"></ul>
                    </nav>

                </div><!-- /.row.pagination-wrap -->

                <div class="col-md-3"></div>

            </div>

            <form id="review-form" role="form">
                <h3>Ranking and Review </h3>
                <div class="form-group">
                     <input name="ranks" id="stars" value="2.5" type="number" class="rating rating-loading" min=0 max=5 step=0.1 data-size="xs">
                </div>

                <div class="form-group">
                    <span class="input input--isao">
                        <textarea style="border:1px solid darkgrey;border-radius:5px;" name="comment_content" placeholder="Your comments here" class="input__field input__field--isao form-control" type="text" rows="3"></textarea>
                    </span>
                </div>

                <div class="row">
                    <div class="col-md-3">

                    </div>
                    <div class="col-md-4">
                        <a id="addcommentbutton" href="javascript:void(0)" onclick="submitReviews()" type="button" class="btn btn-primary btn-block ladda-button" title="" data-style="expand-right" data-original-title="comments">
                            <span class="ladda-label">
                                Submit
                            </span>
                        </a>
                    </div>
                    <div class="col-md-5"></div>
                </div>

            </form>
            <p></p>


        </div><!-- col-md-9 end -->

        <div class="col-md-3"></div>



<script>


    var currentPage = 1;
    var NumPerPage = 2;
    var totalPage = 1;
    var visiblePageNum = 1;


    var currentUserId = '001hongyuan'; // there should put data from server
    var currentSchool = '{{ school.official_school_name }}';
    var totalComments = initCommentData();

    function initCommentData(){
        var comments = [];
        {% for comment in comments %}
            var comment = {};
            comment.author_avatar = '{{ comment.author_avatar }}';
            comment.author_name = '{{ comment.author_name }}';
            comment.user_rating = '{{ comment.user_rating }}';
            comment.user_review = '{{ comment.user_review }}';
            comment.time = '{{ comment.time }}';
            comment.userId = '001hongyuan'; // comment.userId;
            comments.push(comment);
        {% endfor %}

        if(comments.length == 0){
            totalPage = 1;
        } else{
            totalPage = Math.ceil(comments.length / NumPerPage);
        }

        visiblePageNum = totalPage;

        if(visiblePageNum > 5){
            visiblePageNum = 5;
        }

        return comments;
    };

    $('#pagination').twbsPagination({
        totalPages: totalPage,
        visiblePages: visiblePageNum,
        onPageClick: function (event, page) {
            currentPage = page;
            $("#comment-list").empty();
            drawCommentCards(totalComments);
        }
    });

    function drawSingleCommentCard(data, index){
        var html = '';
        if(typeof(data) != 'undefined'){
            html = html + '<div class="comment" number="'+ index +'">'+
               '<li class="media">' +
                    '<div class="media-left">' +
                        '<a href="#">' +
                            '<img class="media-object img-circle" style="height: 70px; width: 70px" src="'+ data.author_avatar +'" alt="photo">' +
                        '</a>' +
                    '</div>' +

                    '<div class="media-body">' +
                        '<h4 class="media-heading inline">'+ data.author_name +'</h4><span>  </span>' +

                        '<div class="caption inline" ><span class="label label-success">'+ data.user_rating +' Stars</span></div>' +
                        '<input value="'+ data.user_rating +'" type="number" class="rating-loading star-show" min=0 max=5 step=0.1 data-size="xs">' +

                        '<p class="inline">'+ data.user_review +'</p><span>   </span>';

            if (data.userId == currentUserId){
                html = html +
                        '<a commentid= "'+ data.commentId +'" class="inline" href="javascript:void(0)" onclick="removeByCommentId(this)">' +
                            '<div class="caption inline" ><span class="label label-danger">Remove</span></div>' +
                        '</a>';
            }

            html = html +
                        '<p>' +
                            '<div class="ds-comment-footer">' +
                                '<span class="ds-time" title="'+ data.time +'">'+ data.time +'</span>&nbsp;'+
                            '</div>'+
                        '</p>' +
                    '</div>' +
                '</li>' +
                '<hr/></div>';
        }

        return html;
    }

    function drawCommentCards(datas){
        console.log("function drawCommentCards: currentpage: " + currentPage);
        console.log("function drawCommentCards: Data: " );
        console.log(datas);

        for (var i = (currentPage-1)*NumPerPage; i < currentPage*NumPerPage; i++) {

            if(i < datas.length){
               $("#comment-list").append(drawSingleCommentCard(datas[i], i));
            }
        }

        $(".star-show").rating({displayOnly: true});
    }




    function removeByCommentId(obj){
        var commentId = obj.getAttributeNode("commentid").value;
        console.log("commentId: " + commentId);

        if(confirm("Are you sure to delete this comment?")){

            var selected = obj.closest('.comment');
            var index = selected.getAttributeNode("number").value;

            {#// TO DO put in the success function#}
            {#totalComments.splice(index,1);#}
            {#selected.remove();#}
            {##}
            {#currentPage = 1;#}
            {#$("#comment-list").empty();#}
            {#drawCommentCards(totalComments);#}
            {##}
            {#// page overloaded with empty split page data (belonging to the paging plug-in)#}
            {#$('#pagination').empty();#}
            {#$('#pagination').removeData("twbs-pagination");#}
            {#$('#pagination').unbind('page');#}
            {##}
            {#$('#pagination').twbsPagination({#}
            {#    totalPages: 5,#}
            {#    visiblePages: 1,#}
            {#    onPageClick: function (event, page) {#}
            {#        currentPage = page;#}
            {#        $("#comment-list").empty();#}
            {#        drawCommentCards(totalComments);#}
            {#    }#}
            {#});#}
            {#// put#}

            req = $.ajax({
                type: 'POST',
                url: 'https://www.bestchoicehub.com/remove_comment/'+ currentSchool,
                contentType: 'application/json; charset=UTF-8',
                dataType: 'json',
                success: function (data) {
                        console.log("ajax data:");
                        console.log(data);

                        //TO DO

                }
            });

        }

    }

    function submitReviews(){
        var initialData = $("#review-form").serialize();
        var formData = decodeURIComponent(initialData,true);
        console.log("formData: ");
        console.log(formData);

        var str1 = formData.split("&");
        var json = {};
        for(var i = 0; i < str1.length; i++){
            var str2 = str1[i].split("=");
            json[str2[0]] = str2[1];
        }
        console.log(json);



        $.ajax({
            type: 'POST',
            url: 'https://www.bestchoicehub.com/add_comment/'+ currentSchool,
            contentType: 'application/json; charset=UTF-8',
            data: JSON.stringify(json),
            dataType: 'json',
            success: function (data) {
                console.log("ajax data:");
                console.log(data);

                //TO DO
                $("#review-form")[0].reset();
                totalComments = data; //Ordering in Time

                //reload data and pagination
                currentPage = 1;
                $("#comment-list").empty();
                drawCommentCards(totalComments);

                // page overloaded with empty split page data (belonging to the paging plug-in)
                $('#pagination').empty();
                $('#pagination').removeData("twbs-pagination");
                $('#pagination').unbind('page');

                $('#pagination').twbsPagination({
                    totalPages: 5,
                    visiblePages: 1,
                    onPageClick: function (event, page) {
                        currentPage = page;
                        $("#comment-list").empty();
                        drawCommentCards(totalComments);
                    }
                });
            }
        });

    }

</script>

    </div><!-- row end -->
</div>


</main>


<div class="slider_contain">
    <span class="slider_close">X</span>
    <div id="jssor_1" style="display:none;position: relative; margin: 0 auto; top: 0px;z-index:9; left:0; width: 800px; height: 456px; overflow: hidden; visibility: hidden; background-color: #24262e;">
        <!-- Loading Screen -->
        <div data-u="loading" style="position: absolute; top: 0px; left: 0px;">
            <div style="filter: alpha(opacity=90); opacity: 0.9; position: absolute; display: block; top: 0px; left: 0px; width: 100%; height: 100%;"></div>
            <div style="position:absolute;display:block;top:0px;left:0px;width:100%;height:100%;"></div>
        </div>
        <div data-u="slides" style="cursor: default; position: relative; top: 0px; left:0;width: 800px; height: 356px; overflow: hidden;">

            {% if school.photo_ref1 %}
                <div data-p="144.50" style="display: none;">
                    <img data-u="image"
                         src="../../static/img/school_img1/{{ school.official_school_name }}.jpeg"/>
                    <img data-u="thumb"
                         src="../../static/img/school_img1/{{ school.official_school_name }}.jpeg"
                         height="72px" width="72px">
                </div>
            {% endif %}

            {% if school.photo_ref2 %}
                <div data-p="144.50" style="display: none;">
                    <img data-u="image"
                         src="../../static/img/school_img2/{{ school.official_school_name }}.jpeg"/>
                    <img data-u="thumb"
                         src="../../static/img/school_img2/{{ school.official_school_name }}.jpeg"
                         height="72px" width="72px"/>
                </div>
            {% endif %}

            {% if school.photo_ref3 %}
                <div data-p="144.50" style="display: none;">
                    <img data-u="image"
                         src="../../static/img/school_img3/{{ school.official_school_name }}.jpeg"/>
                    <img data-u="thumb"
                         src="../../static/img/school_img3/{{ school.official_school_name }}.jpeg"
                         height="72px" width="72px"/>
                </div>
            {% endif %}

            {% if school.photo_ref4 %}
                <div data-p="144.50" style="display: none;">
                    <img data-u="image"
                         src="../../static/img/school_img4/{{ school.official_school_name }}.jpeg"/>
                    <img data-u="thumb"
                         src="../../static/img/school_img4/{{ school.official_school_name }}.jpeg"
                         height="72px" width="72px"/>
                </div>
            {% endif %}

            {% if school.photo_ref5 %}
                <div data-p="144.50" style="display: none;">
                    <img data-u="image"
                         src="../../static/img/school_img5/{{ school.official_school_name }}.jpeg"/>
                    <img data-u="thumb"
                         src="../../static/img/school_img5/{{ school.official_school_name }}.jpeg"
                         height="72px" width="72px"/>
                </div>
            {% endif %}
        </div>

        <!-- Thumbnail Navigator -->
        <div data-u="thumbnavigator" class="jssort01"
             style="position:absolute;bottom:0px;left:0;width:800px;height:100px;" data-autocenter="1">
            <!-- Thumbnail Item Skin Begin -->
            <div data-u="slides" style="cursor: default;">
                <div data-u="prototype" class="p">
                    <div class="w">
                        <div data-u="thumbnailtemplate" class="t"></div>
                    </div>
                    <div class="c"></div>
                </div>
            </div>
            <!-- Thumbnail Item Skin End -->
        </div>

        <!-- Arrow Navigator -->
        <span data-u="arrowleft" class="jssora05l" style="top:158px;left:8px;width:40px;height:40px;"></span>
        <span data-u="arrowright" class="jssora05r" style="top:158px;right:8px;width:40px;height:40px;"></span>
    </div>
</div>


<!--<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>-->
<script src="../../static/js/plugins.js"></script>
<script src="../../static/js/school_detail.js"></script>
<script type="text/javascript" src="../../static/js/jssor.slider.mini.js"></script>
<script>
    $(document).ready(function($){

        var _width = window.screen.width;
        // $("#jssor_1").css("width",_width+'px');

        var jssor_1_SlideshowTransitions = [
            {
                $Duration: 1200,
                x: 0.3,
                $During: {$Left: [0.3, 0.7]},
                $Easing: {$Left: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                x: -0.3,
                $SlideOut: true,
                $Easing: {$Left: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                x: -0.3,
                $During: {$Left: [0.3, 0.7]},
                $Easing: {$Left: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                x: 0.3,
                $SlideOut: true,
                $Easing: {$Left: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                y: 0.3,
                $During: {$Top: [0.3, 0.7]},
                $Easing: {$Top: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                y: -0.3,
                $SlideOut: true,
                $Easing: {$Top: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                y: -0.3,
                $During: {$Top: [0.3, 0.7]},
                $Easing: {$Top: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                y: 0.3,
                $SlideOut: true,
                $Easing: {$Top: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                x: 0.3,
                $Cols: 2,
                $During: {$Left: [0.3, 0.7]},
                $ChessMode: {$Column: 3},
                $Easing: {$Left: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                x: 0.3,
                $Cols: 2,
                $SlideOut: true,
                $ChessMode: {$Column: 3},
                $Easing: {$Left: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                y: 0.3,
                $Rows: 2,
                $During: {$Top: [0.3, 0.7]},
                $ChessMode: {$Row: 12},
                $Easing: {$Top: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                y: 0.3,
                $Rows: 2,
                $SlideOut: true,
                $ChessMode: {$Row: 12},
                $Easing: {$Top: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                y: 0.3,
                $Cols: 2,
                $During: {$Top: [0.3, 0.7]},
                $ChessMode: {$Column: 12},
                $Easing: {$Top: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                y: -0.3,
                $Cols: 2,
                $SlideOut: true,
                $ChessMode: {$Column: 12},
                $Easing: {$Top: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                x: 0.3,
                $Rows: 2,
                $During: {$Left: [0.3, 0.7]},
                $ChessMode: {$Row: 3},
                $Easing: {$Left: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                x: -0.3,
                $Rows: 2,
                $SlideOut: true,
                $ChessMode: {$Row: 3},
                $Easing: {$Left: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                x: 0.3,
                y: 0.3,
                $Cols: 2,
                $Rows: 2,
                $During: {$Left: [0.3, 0.7], $Top: [0.3, 0.7]},
                $ChessMode: {$Column: 3, $Row: 12},
                $Easing: {$Left: $Jease$.$InCubic, $Top: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                x: 0.3,
                y: 0.3,
                $Cols: 2,
                $Rows: 2,
                $During: {$Left: [0.3, 0.7], $Top: [0.3, 0.7]},
                $SlideOut: true,
                $ChessMode: {$Column: 3, $Row: 12},
                $Easing: {$Left: $Jease$.$InCubic, $Top: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                $Delay: 20,
                $Clip: 3,
                $Assembly: 260,
                $Easing: {$Clip: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                $Delay: 20,
                $Clip: 3,
                $SlideOut: true,
                $Assembly: 260,
                $Easing: {$Clip: $Jease$.$OutCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                $Delay: 20,
                $Clip: 12,
                $Assembly: 260,
                $Easing: {$Clip: $Jease$.$InCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            },
            {
                $Duration: 1200,
                $Delay: 20,
                $Clip: 12,
                $SlideOut: true,
                $Assembly: 260,
                $Easing: {$Clip: $Jease$.$OutCubic, $Opacity: $Jease$.$Linear},
                $Opacity: 2
            }
        ];

        var jssor_1_options = {
            $AutoPlay: true,
            $SlideshowOptions: {
                $Class: $JssorSlideshowRunner$,
                $Transitions: jssor_1_SlideshowTransitions,
                $TransitionsOrder: 1
            },
            $ArrowNavigatorOptions: {
                $Class: $JssorArrowNavigator$
            },
            $ThumbnailNavigatorOptions: {
                $Class: $JssorThumbnailNavigator$,
                $Cols: 10,
                $SpacingX: 8,
                $SpacingY: 8,
                $Align: 360
            }
        };

        var jssor_1_slider = new $JssorSlider$("jssor_1", jssor_1_options);

        //responsive code begin
        //you can remove responsive code if you don't want the slider scales while window resizing
        function ScaleSlider() {
            var refSize = jssor_1_slider.$Elmt.parentNode.clientWidth;
            // var _width=window.screen.width;
            // console.log('_width',_width);

            if (refSize) {
                refSize = Math.min(refSize, 800);
                jssor_1_slider.$ScaleWidth(refSize);
            }
            else {
                window.setTimeout(ScaleSlider, 30);
            }
        }

        $('#view').click(function () {
            $('#jssor_1').show()
            $(".slider_contain").show()
        })
        $(".slider_close").click(function () {
            $('#jssor_1').hide()
            $(".slider_contain").hide()
        })

        ScaleSlider();

        $(window).bind("load", ScaleSlider);
        $(window).bind("resize", ScaleSlider);
        $(window).bind("orientationchange", ScaleSlider);
        //responsive code end
    });

</script>
<!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
<script>
    var _gaq = [['_setAccount', 'UA-XXXXX-X'], ['_trackPageview']];
    (function (d, t) {
        var g = d.createElement(t), s = d.getElementsByTagName(t)[0];
        g.src = ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g, s)
    }(document, 'script'));
</script>
<script type="text/javascript">
    //Initialize the echarts instance based on the prepared dom
    var myChart = echarts.init(document.getElementById('tu1'));
    // display the title, legend and empty coordinate axes
    myChart.setOption({
        title: {
          text:'School-to-institution progression',x:'left'
        },
        tooltip: {trigger: 'axis'},
        legend: {
          y : '93%',
          orient : 'vertical',
          align:'left',
          data:["School's Total Progression","School's raise of progression to univerity only"]
        },
        xAxis: {
          //type: 'category',
          //boundaryGap: false,
          data: ['2015','2016','2017']
        },
        yAxis: {type:'value'},
        series: [{
                name:"School's Total Progression",
                type:'bar',
                data:[{{ university_going.Total_progression }}, {{ university_going1.Total_progression }}, {{ university_going2.Total_progression }}]
            },
            {
                name:"School's raise of progression to univerity only",
                type:'bar',
                data:[0, 0, 0]
            },]
    });

    var myChart2 = echarts.init(document.getElementById('tu2'));
    var dataList = {
            2015: [
                {
                    {% if university_going %}
                        name: ['UCD', 'TCD', 'DCU', 'UL', 'Maynooth University', 'NUIG', 'UCC', 'St Angela', 'QUB', 'UU', 'Blanch IT', 'Nat_Col_of_Irl',
                            'DIT', 'Tallaght IT', 'Athlone IT', 'Cork IT', 'Dundalk IT', 'GMIT', 'IADT', 'IT Carlow',
                            'IT Sligo', 'IT Tralee', 'IT Letter kenny', 'IT_Limerick', 'WIT', 'Marino_Instit_of_Ed',
                            'C_of_I_College_of_Ed', 'Mary_Immac', 'NCAD', 'RCSI', 'Shannon College of Hotel Management'],
                        data: ['UCD', 'TCD', 'DCU', 'UL', 'Maynooth University', 'NUIG', 'UCC', 'St Angela', 'QUB', 'UU', 'Blanch IT', 'Nat_Col_of_Irl',
                            'DIT', 'Tallaght IT', 'Athlone IT', 'Cork IT', 'Dundalk IT', 'GMIT', 'IADT', 'IT Carlow',
                            'IT Sligo', 'IT Tralee', 'IT Letter kenny', 'IT_Limerick', 'WIT', 'Marino_Instit_of_Ed',
                            'C_of_I_College_of_Ed', 'Mary_Immac', 'NCAD', 'RCSI', 'Shannon College of Hotel Management',
                            {value: {{ university_going.UCD }}, name: 'UCD'},
                            {value: {{ university_going.TCD }}, name: 'TCD'},
                            {value: {{ university_going.DCU }}, name: 'DCU'},
                            {value: {{ university_going.UL }}, name: 'UL'},
                            {value: {{ university_going.Maynooth_University }}, name: 'Maynooth University'},
                            {value: {{ university_going.NUIG }}, name: 'NUIG'},
                            {value: {{ university_going.UCC }}, name: 'UCC'},
                            {value: {{ university_going.St_Angela }}, name: 'St Angela'},
                            {value: {{ university_going.QUB }}, name: 'QUB'},
                            {value: {{ university_going.UU }}, name: 'UU'},
                            {value: {{ university_going.Blanch_IT }}, name: 'Blanch IT'},
                            {value: {{ university_going.Nat_Col_of_Irl }}, name: 'Nat_Col_of_Irl'},
                            {value: {{ university_going.DIT }}, name: 'DIT'},
                            {value: {{ university_going.Tallaght_IT }}, name: 'Tallaght IT'},
                            {value: {{ university_going.Athlone_IT }}, name: 'Athlone IT'},
                            {value: {{ university_going.Cork_IT }}, name: 'Cork IT'},
                            {value: {{ university_going.Dundalk_IT }}, name: 'Dundalk IT'},
                            {value: {{ university_going.GMIT }}, name: 'GMIT'},
                            {value: {{ university_going.IADT }}, name: 'IADT'},
                            {value: {{ university_going.IT_Carlow }}, name: 'IT Carlow'},
                            {value: {{ university_going.IT_Sligo }}, name: 'IT Sligo'},
                            {value: {{ university_going.IT_Tralee }}, name: 'IT Tralee'},
                            {value: {{ university_going.IT_Letter_kenny }}, name: 'IT Letter kenny'},
                            {value: {{ university_going.IT_Limerick }}, name: 'IT Limerick'},
                            {value: {{ university_going.WIT }}, name: 'WIT'},
                            {value: {{ university_going.Marino_Instit_of_Ed }}, name: 'Marino_Instit_of_Ed'},
                            {value: {{ university_going.C_of_I_College_of_Ed }}, name: 'C_of_I_College_of_Ed'},
                            {value: {{ university_going.Mary_Immac }}, name: 'Mary_Immac'},
                            {value: {{ university_going.NCAD }}, name: 'NCAD'},
                            {value: {{ university_going.RCSI }}, name: 'RCSI'},
                            {
                                value: {{ university_going.Shannon_College_of_Hotel_Management }},
                                name: 'Shannon College of Hotel Management'
                            },
                        ],
                    {% else %}
                        name: [''],
                        data: ['',
                            {value: 0, name: 'No Information'}]
                    {% endif %}
                },

                {
                    {% if university_going %}
                        name: ['UCD', 'TCD', 'DCU', 'UCC', 'UL', 'Maynooth University', 'NUIG'],
                        data: [
                            'UCD', 'TCD', 'DCU', 'UCC', 'UL', 'Maynooth University', 'NUIG',
                            {value: {{ university_going.UCD }}, name: 'UCD'},
                            {value: {{ university_going.TCD }}, name: 'TCD'},
                            {value: {{ university_going.DCU }}, name: 'DCU'},
                            {value: {{ university_going.UL }}, name: 'UL'},
                            {value: {{ university_going.UCC }}, name: 'UCC'},
                            {value: {{ university_going.Maynooth_University }}, name: 'Maynooth University'},
                            {value: {{ university_going.NUIG }}, name: 'NUIG'},
                        ],
                    {% else %}
                        name: [''],
                        data: ['',
                            {value: 0, name: 'No Information'}]
                    {% endif %}
                },
            ],
            2016: [
                {
                    {% if university_going1 %}
                        name: ['UCD', 'TCD', 'DCU', 'UL', 'Maynooth University', 'NUIG', 'UCC', 'St Angela', 'QUB', 'UU', 'Blanch IT', 'Nat_Col_of_Irl',
                            'DIT', 'Tallaght IT', 'Athlone IT', 'Cork IT', 'Dundalk IT', 'GMIT', 'IADT', 'IT Carlow',
                            'IT Sligo', 'IT Tralee', 'IT Letter kenny', 'IT_Limerick', 'WIT', 'Marino_Instit_of_Ed',
                            'Mary_Immac', 'Mary_Immac', 'NCAD', 'RCSI', 'Shannon College of Hotel Management'],
                        data: ['UCD', 'TCD', 'DCU', 'UL', 'Maynooth University', 'NUIG', 'UCC', 'St Angela', 'QUB', 'UU', 'Blanch IT', 'Nat_Col_of_Irl',
                            'DIT', 'Tallaght IT', 'Athlone IT', 'Cork IT', 'Dundalk IT', 'GMIT', 'IADT', 'IT Carlow',
                            'IT Sligo', 'IT Tralee', 'IT Letter kenny', 'IT_Limerick', 'WIT', 'Marino_Instit_of_Ed',
                            'Mary_Immac', 'NCAD', 'RCSI',
                            {value: {{ university_going1.UCD }}, name: 'UCD'},
                            {value: {{ university_going1.TCD }}, name: 'TCD'},
                            {value: {{ university_going1.DCU }}, name: 'DCU'},
                            {value: {{ university_going1.UL }}, name: 'UL'},
                            {value: {{ university_going1.Maynooth_University }}, name: 'Maynooth University'},
                            {value: {{ university_going1.NUIG }}, name: 'NUIG'},
                            {value: {{ university_going1.UCC }}, name: 'UCC'},
                            {value: {{ university_going1.St_Angela }}, name: 'St Angela'},
                            {value: {{ university_going1.QUB }}, name: 'QUB'},
                            {value: {{ university_going1.UU }}, name: 'UU'},
                            {value: {{ university_going1.Blanch_IT }}, name: 'Blanch IT'},
                            {value: {{ university_going1.Nat_Col_of_Irl }}, name: 'Nat_Col_of_Irl'},
                            {value: {{ university_going1.DIT }}, name: 'DIT'},
                            {value: {{ university_going1.Tallaght_IT }}, name: 'Tallaght IT'},
                            {value: {{ university_going1.Athlone_IT }}, name: 'Athlone IT'},
                            {value: {{ university_going1.Cork_IT }}, name: 'Cork IT'},
                            {value: {{ university_going1.Dundalk_IT }}, name: 'Dundalk IT'},
                            {value: {{ university_going1.GMIT }}, name: 'GMIT'},
                            {value: {{ university_going1.IADT }}, name: 'IADT'},
                            {value: {{ university_going1.IT_Carlow }}, name: 'IT Carlow'},
                            {value: {{ university_going1.IT_Sligo }}, name: 'IT Sligo'},
                            {value: {{ university_going1.IT_Tralee }}, name: 'IT Tralee'},
                            {value: {{ university_going1.IT_Letter_kenny }}, name: 'IT Letter kenny'},
                            {value: {{ university_going1.IT_Limerick }}, name: 'IT Limerick'},
                            {value: {{ university_going1.WIT }}, name: 'WIT'},
                            {value: {{ university_going1.Marino_Instit_of_Ed }}, name: 'Marino_Instit_of_Ed'},
                            {value: {{ university_going1.Mary_Immac }}, name: 'Mary_Immac'},
                            {value: {{ university_going1.NCAD }}, name: 'NCAD'},
                            {value: {{ university_going1.RCSI }}, name: 'RCSI'},

                        ],
                    {% else %}
                        name: [''],
                        data: ['',
                            {value: 0, name: 'No Information'}]
                    {% endif %}
                },
                {
                    {% if university_going1 %}
                        name: ['UCD', 'TCD', 'DCU', 'UCC', 'UL', 'Maynooth University', 'NUIG'],
                        data: [
                            'UCD', 'TCD', 'DCU', 'UCC', 'UL', 'Maynooth University', 'NUIG',
                            {value: {{ university_going1.UCD }}, name: 'UCD'},
                            {value: {{ university_going1.TCD }}, name: 'TCD'},
                            {value: {{ university_going1.DCU }}, name: 'DCU'},
                            {value: {{ university_going1.UL }}, name: 'UL'},
                            {value: {{ university_going1.UCC }}, name: 'UCC'},
                            {value: {{ university_going1.Maynooth_University }}, name: 'Maynooth University'},
                            {value: {{ university_going1.NUIG }}, name: 'NUIG'},
                        ],
                    {% else %}
                        name: [''],
                        data: ['',
                            {value: 0, name: 'No Information'}]
                    {% endif %}
                },
            ],
            2017: [
                {
                    {% if university_going2 %}
                        name: ['UCD', 'TCD', 'DCU', 'UL'
                            , 'Maynooth University', 'NUIG', 'UCC', 'St Angela', 'QUB', 'UU', 'Blanch IT', 'Nat_Col_of_Irl'
                            ,
                            'DIT', 'Tallaght IT', 'Athlone IT', 'Cork IT', 'Dundalk IT', 'GMIT', 'IADT', 'IT Carlow'
                            , 'IT Sligo', 'IT Tralee', 'IT Letter kenny', 'IT_Limerick', 'WIT', 'Marino_Instit_of_Ed',
                            'Mary_Immac'
                            , 'NCAD'
                            , 'RCSI'
                            {#, 'GC'#}
                            {#, 'Dublin_B_school'#}
                            {#,'ICHASciences'#}
                        ],
                        data: ['UCD', 'TCD', 'DCU', 'UL',
                            'Maynooth University', 'NUIG', 'UCC', 'St Angela', 'QUB', 'UU', 'Blanch IT', 'Nat_Col_of_Irl',
                            'DIT', 'Tallaght IT', 'Athlone IT', 'Cork IT', 'Dundalk IT', 'GMIT', 'IADT', 'IT Carlow',
                            'IT Sligo', 'IT Tralee', 'IT Letter kenny', 'IT_Limerick', 'WIT', 'Marino_Instit_of_Ed',
                            'Mary_Immac',
                            'NCAD',
                            'RCSI',
                            {#'GC',#}
                            {#'Dublin_B_school',#}
                            {#'ICHASciences',#}
                            {value: {{ university_going2.UCD }}, name: 'UCD'},
                            {value: {{ university_going2.TCD }}, name: 'TCD'},
                            {value: {{ university_going2.DCU }}, name: 'DCU'},
                            {value: {{ university_going2.UL }}, name: 'UL'},
                            {value: {{ university_going2.Maynooth_University }}, name: 'Maynooth University'},
                            {value: {{ university_going2.NUIG }}, name: 'NUIG'},
                            {value: {{ university_going2.UCC }}, name: 'UCC'},
                            {value: {{ university_going2.St_Angela }}, name: 'St Angela'},
                            {value: {{ university_going2.QUB }}, name: 'QUB'},
                            {value: {{ university_going2.UU }}, name: 'UU'},
                            {value: {{ university_going2.Blanch_IT }}, name: 'Blanch IT'},
                            {value: {{ university_going2.Nat_Col_of_Irl }}, name: 'Nat_Col_of_Irl'},
                            {value: {{ university_going2.DIT }}, name: 'DIT'},
                            {value: {{ university_going2.Tallaght_IT }}, name: 'Tallaght IT'},
                            {value: {{ university_going2.Athlone_IT }}, name: 'Athlone IT'},
                            {value: {{ university_going2.Cork_IT }}, name: 'Cork IT'},
                            {value: {{ university_going2.Dundalk_IT }}, name: 'Dundalk IT'},
                            {value: {{ university_going2.GMIT }}, name: 'GMIT'},
                            {value: {{ university_going2.IADT }}, name: 'IADT'},
                            {value: {{ university_going2.IT_Carlow }}, name: 'IT Carlow'},
                            {value: {{ university_going2.IT_Sligo }}, name: 'IT Sligo'},
                            {value: {{ university_going2.IT_Tralee }}, name: 'IT Tralee'},
                            {value: {{ university_going2.IT_Letter_kenny }}, name: 'IT Letter kenny'},
                            {value: {{ university_going2.IT_Limerick }}, name: 'IT Limerick'},
                            {value: {{ university_going2.WIT }}, name: 'WIT'},
                            {value: {{ university_going2.Marino_Instit_of_Ed }}, name: 'Marino_Instit_of_Ed'},
                            {value: {{ university_going2.Mary_Immac }}, name: 'Mary_Immac'},
                            {value: {{ university_going2.NCAD }}, name: 'NCAD'},
                            {value: {{ university_going2.RCSI }}, name: 'RCSI'},
                            {#{value: {{ university_going2.GC }}, name: 'GC'},#}
                            {#{value: {{ university_going2.Dublin_B_school }}, name: 'Dublin_B_school'},#}
                            {#{value: {{ university_going2.ICHASciences }}, name: 'ICHASciences'},#}
                        ],
                    {% else %}
                        name: [''],
                        data: ['',
                            {value: 0, name: 'No Information'}]
                    {% endif %}
                },
                {
                    {% if university_going2 %}
                        name: ['UCD', 'TCD', 'DCU', 'UCC', 'UL', 'Maynooth University', 'NUIG'],
                        data: [
                            'UCD', 'TCD', 'DCU', 'UCC', 'UL', 'Maynooth University', 'NUIG',
                            {value: {{ university_going2.UCD }}, name: 'UCD'},
                            {value: {{ university_going2.TCD }}, name: 'TCD'},
                            {value: {{ university_going2.DCU }}, name: 'DCU'},
                            {value: {{ university_going2.UL }}, name: 'UL'},
                            {value: {{ university_going2.UCC }}, name: 'UCC'},
                            {value: {{ university_going2.Maynooth_University }}, name: 'Maynooth University'},
                            {value: {{ university_going2.NUIG }}, name: 'NUIG'},
                        ],
                    {% else %}
                        name: [''],
                        data: ['',
                            {value: 0, name: 'No Information'}]
                    {% endif %}
                },
            ],
    };

    var selYear = '2015', selType = 0;

    var option2 = {
            title: {
                x: 'left',//
                text: "Institution School",
                textStyle: {
                    fontSize: 16,
                    fontWeight: 'bold'
                }
            },
            tooltip: {
                show: 'false',
                trigger: 'item',
                formatter: "{a} <br/>{b}: {c} ({d}%)"
            },
            legend: {
                orient: 'vertical',
                icon: 'circle',
                itemGap: 3,
                itemWidth: 4,
                x: '80%',
                align: 'left',
                textStyle: {//属性名的字体样式设置
                    fontSize: 10,
                    color: '#666'
                },
                data: dataList[selYear][selType].name
            },
            series: [
                {
                    name: 'Access to the source',
                    type: 'pie',
                    radius: ['30%', '70%'],
                    avoidLabelOverlap: false,
                    label: {
                        normal: {
                            show: false,
                            position: 'center'
                        },
                        emphasis: {
                            show: true,
                            textStyle: {
                                fontSize: '15',
                                fontWeight: 'bold'
                            }
                        }
                    },
                    labelLine: {
                        normal: {
                            show: false
                        }
                    },
                    data: dataList[selYear][selType].data
                }
            ]
    };
    myChart2.setOption(option2);

    $("#selyear").change(function () {
        selYear = $("#selyear").val();

        option2.legend.data = dataList[selYear][selType].name;
        option2.series[0].data = dataList[selYear][selType].data;
        myChart2.setOption(option2);
    });

    $("#seltype").change(function () {
        selType = parseInt($("#seltype").val());
        console.log('selYear', $("#seltype").val());
        console.log('selYear', dataList[selYear][selType]);
        option2.legend.data = dataList[selYear][selType].name;
        option2.series[0].data = dataList[selYear][selType].data;
        myChart2.setOption(option2);
    });

</script>

</body>
</html>

